<!DOCTYPE html>
<html>

<head>
  <%- include('header.ejs') %>
</head>

<body>
  <%- include('navbar.ejs') %>

    <div class="container text-left">

      <h2>Katalog</h2>
      <hr>
      <div class="row">
          <div class="col-md-10">
          <form action="/find" method="POST" id="szukaj1">
            <div class="input-group">

                <input type="search" name="find_item" class="form-control" placeholder="Wpisz tytuł, autora, kategorię lub serię" aria-label="Szukaj">

                <div class="input-group-addon">

                    <button class="btn btn-info" type="submit">
                        <i class="fa fa-search"></i> Szukaj
                    </button>
                </div>
            </div>

            <br>
            <span id="goToAdvancedSearch">
                <i class="fa fa-angle-double-right"></i> Zaawansowane wyszukiwanie </span>

          </form>

          <!-- Advanced search -->
         <form action="/find" method="POST" id="szukaj1_advanced" style="display:none;">
              <div class="input-group">

                  <select name="search_for" class="form-control">
                      <option value="title">tytuł</option>
                      <option value="author" >autor</option>
                      <option value="category">kategoria</option>
                      <option value="series">seria</option>
                  </select>

                  <input type="search" name="find_item" class="form-control" placeholder="Wpisz szukaną frazę" aria-label="Szukaj">

                  <div class="input-group-addon">
                      <select name="search_condition" class="form-control btn search_condition" style="display:none;"><option value=""></option></select>
                        
                      <button class="btn btn-info" type="submit">
                          <i class="fa fa-search"></i> Szukaj
                      </button>
                  </div>
              </div>

              <br>
              <span id="addNextSearchTag">
                  <i class="fa fa-plus"></i> Dodaj kolejną frazę </span>
              <br>
              <span id="goToSimpleSearch">
                  <i class="fa fa-angle-right"></i> Proste wyszukiwanie </span>
          </form>
          
        </div>

      <%if (booksArr !== undefined && booksArr !== null) { %>
        <div id="books_container">

          <div class="card-deck-wrapper">
            <div class="card-deck">
              <% booksArr.forEach( (book) => { %>

                <div class="card">
                  <br>
                  <img class="card-img-top img-fluid mx-auto d-block" src="/<%= book.image %>" alt="<%= book.title + " " + ' image' %>" >
                  <div class="card-body d-flex flex-column">
                    <p class="card-text"><strong><i><%= book.title %></i></strong> <br>
                      <%= book.author %></p>
                    <a href="<%= '/book_profile/'+ book.book_id %>" class="btn btn-info btn-block mt-auto"> Więcej </a>
                  </div>
                </div>

                <% }) %>
            </div>
          </div>

        </div>

        <% } %>
    </div>

    <%- include('footer.ejs') %>
</body>

</html>